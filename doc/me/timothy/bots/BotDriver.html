<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_60) on Sat Feb 11 10:18:38 PST 2017 -->
<title>BotDriver</title>
<meta name="date" content="2017-02-11">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BotDriver";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BotDriver.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../me/timothy/bots/Bot.html" title="class in me.timothy.bots"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../me/timothy/bots/BotUtils.html" title="class in me.timothy.bots"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?me/timothy/bots/BotDriver.html" target="_top">Frames</a></li>
<li><a href="BotDriver.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">me.timothy.bots</div>
<h2 title="Class BotDriver" class="title">Class BotDriver</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>me.timothy.bots.BotDriver</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Runnable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">BotDriver</span>
extends java.lang.Object
implements java.lang.Runnable</pre>
<div class="block">The driver for the bot, based on summons. Uses bot-specific
 logic for looping through the comments, submissions, and personal
 messages looking for summons, and then applying them via the Summon's
 implementation.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Timothy</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../me/timothy/bots/summon/Summon.html" title="interface in me.timothy.bots.summon"><code>Summon</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../me/timothy/bots/Bot.html" title="class in me.timothy.bots">Bot</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#bot">bot</a></span></code>
<div class="block">The bot.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#BRIEF_PAUSE_MS">BRIEF_PAUSE_MS</a></span></code>
<div class="block">Time in seconds between touching the reddit api</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../me/timothy/bots/summon/CommentSummon.html" title="interface in me.timothy.bots.summon">CommentSummon</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#commentSummons">commentSummons</a></span></code>
<div class="block">The comment summons.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../me/timothy/bots/FileConfiguration.html" title="class in me.timothy.bots">FileConfiguration</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#config">config</a></span></code>
<div class="block">The config.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../me/timothy/bots/Database.html" title="class in me.timothy.bots">Database</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#database">database</a></span></code>
<div class="block">The database.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected org.apache.logging.log4j.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#logger">logger</a></span></code>
<div class="block">The logger.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.Runnable</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#maybeLoginAgainRunnable">maybeLoginAgainRunnable</a></span></code>
<div class="block">A runnable that simply calls maybeLoginAgain</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../me/timothy/bots/summon/PMSummon.html" title="interface in me.timothy.bots.summon">PMSummon</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#pmSummons">pmSummons</a></span></code>
<div class="block">The pm summons.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../me/timothy/bots/summon/LinkSummon.html" title="interface in me.timothy.bots.summon">LinkSummon</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#submissionSummons">submissionSummons</a></span></code>
<div class="block">The submission summons.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#BotDriver-me.timothy.bots.Database-me.timothy.bots.FileConfiguration-me.timothy.bots.Bot-me.timothy.bots.summon.CommentSummon:A-me.timothy.bots.summon.PMSummon:A-me.timothy.bots.summon.LinkSummon:A-">BotDriver</a></span>(<a href="../../../me/timothy/bots/Database.html" title="class in me.timothy.bots">Database</a>&nbsp;database,
         <a href="../../../me/timothy/bots/FileConfiguration.html" title="class in me.timothy.bots">FileConfiguration</a>&nbsp;config,
         <a href="../../../me/timothy/bots/Bot.html" title="class in me.timothy.bots">Bot</a>&nbsp;bot,
         <a href="../../../me/timothy/bots/summon/CommentSummon.html" title="interface in me.timothy.bots.summon">CommentSummon</a>[]&nbsp;commentSummons,
         <a href="../../../me/timothy/bots/summon/PMSummon.html" title="interface in me.timothy.bots.summon">PMSummon</a>[]&nbsp;pmSummons,
         <a href="../../../me/timothy/bots/summon/LinkSummon.html" title="interface in me.timothy.bots.summon">LinkSummon</a>[]&nbsp;submissionSummons)</code>
<div class="block">Creates a bot driver based on the specified database, configuration info,
 rest client, and bot.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#doLoop--">doLoop</a></span>()</code>
<div class="block">Performs one loop for the bot</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#fail-java.lang.String-java.lang.Throwable...-">fail</a></span>(java.lang.String&nbsp;message,
    java.lang.Throwable...&nbsp;errors)</code>
<div class="block">Terminates the program after logging <code>message</code> at
 Level.ERROR, as well as logging the list of errors</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected me.timothy.jreddit.info.Listing</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#getRecentComments--">getRecentComments</a></span>()</code>
<div class="block">Gets a list of recent comments, utilizing exponential-backoff.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected me.timothy.jreddit.info.Listing</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#getRecentMessages--">getRecentMessages</a></span>()</code>
<div class="block">Gets a list of recent messages, utilizing exponential back-off.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected me.timothy.jreddit.info.Listing</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#getRecentSubmissions--">getRecentSubmissions</a></span>()</code>
<div class="block">Gets a list of recent submissions, utilizing exponential back-off.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#handleComment-me.timothy.jreddit.info.Comment-boolean-boolean-">handleComment</a></span>(me.timothy.jreddit.info.Comment&nbsp;comment,
             boolean&nbsp;debug,
             boolean&nbsp;silentMode)</code>
<div class="block">Handles a single comment</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#handleFlair-java.lang.String-java.lang.String-">handleFlair</a></span>(java.lang.String&nbsp;linkId,
           java.lang.String&nbsp;flair)</code>
<div class="block">Flairs a link</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#handlePM-me.timothy.jreddit.info.Thing-boolean-">handlePM</a></span>(me.timothy.jreddit.info.Thing&nbsp;m,
        boolean&nbsp;silentMode)</code>
<div class="block">Handles a single message in our inbox</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#handlePMResponses-me.timothy.bots.summon.SummonResponse-">handlePMResponses</a></span>(<a href="../../../me/timothy/bots/summon/SummonResponse.html" title="class in me.timothy.bots.summon">SummonResponse</a>&nbsp;response)</code>
<div class="block">Handles the PMResponses that are contained in the summon response, if any,
 by sending pms to the specified users with the specified title and content.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#handleReply-me.timothy.jreddit.info.Thing-java.lang.String-">handleReply</a></span>(me.timothy.jreddit.info.Thing&nbsp;replyable,
           java.lang.String&nbsp;response)</code>
<div class="block">Replies to the thing, utilizing exponential back-off.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#handleSubmission-me.timothy.jreddit.info.Link-boolean-">handleSubmission</a></span>(me.timothy.jreddit.info.Link&nbsp;submission,
                boolean&nbsp;silentMode)</code>
<div class="block">Handles a single submission</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#login--">login</a></span>()</code>
<div class="block">Logs into reddit based on the configuration.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#markRead-me.timothy.jreddit.info.Listing-">markRead</a></span>(me.timothy.jreddit.info.Listing&nbsp;messages)</code>
<div class="block">Marks the specified messages as read.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#maybeLoginAgain--">maybeLoginAgain</a></span>()</code>
<div class="block">Checks if we need to refresh our access token, and if so,
 purges it and logs in.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#run--">run</a></span>()</code>
<div class="block">Runs the bot.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#scanComments--">scanComments</a></span>()</code>
<div class="block">Loops through recent comments, ignoring comments by banned 
 users or remembered fullnames, and handles them via the appropriate
 summons.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#scanPersonalMessages--">scanPersonalMessages</a></span>()</code>
<div class="block">Loops through unread personal messages and replies to the bot.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#scanSubmissions--">scanSubmissions</a></span>()</code>
<div class="block">Loops through recent submissions, ignoring remembered fullnames,
 and checks for "req" (case insensitive) in the title.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#sendMessage-java.lang.String-java.lang.String-java.lang.String-">sendMessage</a></span>(java.lang.String&nbsp;to,
           java.lang.String&nbsp;title,
           java.lang.String&nbsp;message)</code>
<div class="block">Sends a message to the specified user with the specified
 title & message, using exponential back-off.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../me/timothy/bots/BotDriver.html#sleepFor-long-">sleepFor</a></span>(long&nbsp;ms)</code>
<div class="block">Sleeps for the specified time in milliseconds, as if by
 <code>Thread.sleep(ms)</code>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="BRIEF_PAUSE_MS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BRIEF_PAUSE_MS</h4>
<pre>protected static&nbsp;int BRIEF_PAUSE_MS</pre>
<div class="block">Time in seconds between touching the reddit api</div>
</li>
</ul>
<a name="commentSummons">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commentSummons</h4>
<pre>protected final&nbsp;<a href="../../../me/timothy/bots/summon/CommentSummon.html" title="interface in me.timothy.bots.summon">CommentSummon</a>[] commentSummons</pre>
<div class="block">The comment summons.</div>
</li>
</ul>
<a name="pmSummons">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pmSummons</h4>
<pre>protected final&nbsp;<a href="../../../me/timothy/bots/summon/PMSummon.html" title="interface in me.timothy.bots.summon">PMSummon</a>[] pmSummons</pre>
<div class="block">The pm summons.</div>
</li>
</ul>
<a name="submissionSummons">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>submissionSummons</h4>
<pre>protected final&nbsp;<a href="../../../me/timothy/bots/summon/LinkSummon.html" title="interface in me.timothy.bots.summon">LinkSummon</a>[] submissionSummons</pre>
<div class="block">The submission summons.</div>
</li>
</ul>
<a name="config">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>config</h4>
<pre>protected&nbsp;<a href="../../../me/timothy/bots/FileConfiguration.html" title="class in me.timothy.bots">FileConfiguration</a> config</pre>
<div class="block">The config.</div>
</li>
</ul>
<a name="database">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>database</h4>
<pre>protected&nbsp;<a href="../../../me/timothy/bots/Database.html" title="class in me.timothy.bots">Database</a> database</pre>
<div class="block">The database.</div>
</li>
</ul>
<a name="bot">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bot</h4>
<pre>protected&nbsp;<a href="../../../me/timothy/bots/Bot.html" title="class in me.timothy.bots">Bot</a> bot</pre>
<div class="block">The bot.</div>
</li>
</ul>
<a name="logger">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logger</h4>
<pre>protected&nbsp;org.apache.logging.log4j.Logger logger</pre>
<div class="block">The logger.</div>
</li>
</ul>
<a name="maybeLoginAgainRunnable">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>maybeLoginAgainRunnable</h4>
<pre>protected&nbsp;java.lang.Runnable maybeLoginAgainRunnable</pre>
<div class="block">A runnable that simply calls maybeLoginAgain</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../me/timothy/bots/BotDriver.html#maybeLoginAgain--"><code>maybeLoginAgain()</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BotDriver-me.timothy.bots.Database-me.timothy.bots.FileConfiguration-me.timothy.bots.Bot-me.timothy.bots.summon.CommentSummon:A-me.timothy.bots.summon.PMSummon:A-me.timothy.bots.summon.LinkSummon:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BotDriver</h4>
<pre>public&nbsp;BotDriver(<a href="../../../me/timothy/bots/Database.html" title="class in me.timothy.bots">Database</a>&nbsp;database,
                 <a href="../../../me/timothy/bots/FileConfiguration.html" title="class in me.timothy.bots">FileConfiguration</a>&nbsp;config,
                 <a href="../../../me/timothy/bots/Bot.html" title="class in me.timothy.bots">Bot</a>&nbsp;bot,
                 <a href="../../../me/timothy/bots/summon/CommentSummon.html" title="interface in me.timothy.bots.summon">CommentSummon</a>[]&nbsp;commentSummons,
                 <a href="../../../me/timothy/bots/summon/PMSummon.html" title="interface in me.timothy.bots.summon">PMSummon</a>[]&nbsp;pmSummons,
                 <a href="../../../me/timothy/bots/summon/LinkSummon.html" title="interface in me.timothy.bots.summon">LinkSummon</a>[]&nbsp;submissionSummons)</pre>
<div class="block">Creates a bot driver based on the specified database, configuration info,
 rest client, and bot.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>database</code> - the database</dd>
<dd><code>config</code> - the configuration</dd>
<dd><code>restClient</code> - rest client</dd>
<dd><code>bot</code> - the bot</dd>
<dd><code>commentSummons</code> - the comment summons</dd>
<dd><code>pmSummons</code> - the pm summons</dd>
<dd><code>submissionSummons</code> - the submission summons</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="run--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<div class="block">Runs the bot.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
</dl>
</li>
</ul>
<a name="doLoop--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doLoop</h4>
<pre>protected&nbsp;void&nbsp;doLoop()
               throws java.io.IOException,
                      org.json.simple.parser.ParseException,
                      java.text.ParseException</pre>
<div class="block">Performs one loop for the bot</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an i/o related exception occurs</dd>
<dd><code>org.json.simple.parser.ParseException</code> - if a parse exception occurs</dd>
<dd><code>java.text.ParseException</code> - if a parse exception occurs</dd>
</dl>
</li>
</ul>
<a name="maybeLoginAgain--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maybeLoginAgain</h4>
<pre>protected&nbsp;void&nbsp;maybeLoginAgain()</pre>
<div class="block">Checks if we need to refresh our access token, and if so,
 purges it and logs in.</div>
</li>
</ul>
<a name="scanComments--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scanComments</h4>
<pre>protected&nbsp;void&nbsp;scanComments()</pre>
<div class="block">Loops through recent comments, ignoring comments by banned 
 users or remembered fullnames, and handles them via the appropriate
 summons.</div>
</li>
</ul>
<a name="handleComment-me.timothy.jreddit.info.Comment-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleComment</h4>
<pre>protected&nbsp;boolean&nbsp;handleComment(me.timothy.jreddit.info.Comment&nbsp;comment,
                                boolean&nbsp;debug,
                                boolean&nbsp;silentMode)</pre>
<div class="block">Handles a single comment</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>comment</code> - the comment to handle</dd>
<dd><code>debug</code> - if debug messages should be printed</dd>
<dd><code>silentMode</code> - if this should not reply</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>if the comment was meaningfull</dd>
</dl>
</li>
</ul>
<a name="scanSubmissions--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scanSubmissions</h4>
<pre>protected&nbsp;void&nbsp;scanSubmissions()
                        throws java.io.IOException,
                               org.json.simple.parser.ParseException,
                               java.text.ParseException</pre>
<div class="block">Loops through recent submissions, ignoring remembered fullnames,
 and checks for "req" (case insensitive) in the title. If req exists,
 performs an automatic check on the author of the submission as a top-level
 comment in the submission thread.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an i/o related exception occurs</dd>
<dd><code>java.text.ParseException</code> - if the parse via Summon.CHECK_SUMMON is invalid (should not happen since the check is automatic)</dd>
<dd><code>java.text.ParseException</code> - if the parse via Summon.CHECK_SUMMON is invalid (should not happen since the check is automatic)</dd>
<dd><code>org.json.simple.parser.ParseException</code></dd>
</dl>
</li>
</ul>
<a name="handleSubmission-me.timothy.jreddit.info.Link-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleSubmission</h4>
<pre>protected&nbsp;void&nbsp;handleSubmission(me.timothy.jreddit.info.Link&nbsp;submission,
                                boolean&nbsp;silentMode)</pre>
<div class="block">Handles a single submission</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>submission</code> - the submission the handle</dd>
<dd><code>silentMode</code> - if the bot should not respond</dd>
</dl>
</li>
</ul>
<a name="scanPersonalMessages--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scanPersonalMessages</h4>
<pre>protected&nbsp;void&nbsp;scanPersonalMessages()</pre>
<div class="block">Loops through unread personal messages and replies to the bot. Prints them
 out, and in the case of personal messages checks if any summons are applicable
 and if they are, applies them.</div>
</li>
</ul>
<a name="handlePM-me.timothy.jreddit.info.Thing-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handlePM</h4>
<pre>protected&nbsp;void&nbsp;handlePM(me.timothy.jreddit.info.Thing&nbsp;m,
                        boolean&nbsp;silentMode)</pre>
<div class="block">Handles a single message in our inbox</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>m</code> - the pm to handle</dd>
<dd><code>silentMode</code> - if this should not respond</dd>
</dl>
</li>
</ul>
<a name="markRead-me.timothy.jreddit.info.Listing-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markRead</h4>
<pre>protected&nbsp;void&nbsp;markRead(me.timothy.jreddit.info.Listing&nbsp;messages)</pre>
<div class="block">Marks the specified messages as read. Utilizes exponential-backoff</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>messages</code> - the messages</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../me/timothy/bots/Retryable.html" title="class in me.timothy.bots"><code>Retryable</code></a></dd>
</dl>
</li>
</ul>
<a name="login--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>login</h4>
<pre>protected&nbsp;void&nbsp;login()</pre>
<div class="block">Logs into reddit based on the configuration. Terminates
 the program as if by fail() on failure.</div>
</li>
</ul>
<a name="getRecentComments--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecentComments</h4>
<pre>protected&nbsp;me.timothy.jreddit.info.Listing&nbsp;getRecentComments()</pre>
<div class="block">Gets a list of recent comments, utilizing exponential-backoff.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>recent comments</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../me/timothy/bots/Retryable.html" title="class in me.timothy.bots"><code>Retryable</code></a></dd>
</dl>
</li>
</ul>
<a name="handleReply-me.timothy.jreddit.info.Thing-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleReply</h4>
<pre>protected&nbsp;void&nbsp;handleReply(me.timothy.jreddit.info.Thing&nbsp;replyable,
                           java.lang.String&nbsp;response)</pre>
<div class="block">Replies to the thing, utilizing exponential back-off.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>replyable</code> - the thing to reply to</dd>
<dd><code>response</code> - the thing to reply with</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../me/timothy/bots/Retryable.html" title="class in me.timothy.bots"><code>Retryable</code></a></dd>
</dl>
</li>
</ul>
<a name="getRecentSubmissions--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecentSubmissions</h4>
<pre>protected&nbsp;me.timothy.jreddit.info.Listing&nbsp;getRecentSubmissions()</pre>
<div class="block">Gets a list of recent submissions, utilizing exponential back-off.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list of recent submissions</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../me/timothy/bots/Retryable.html" title="class in me.timothy.bots"><code>Retryable</code></a></dd>
</dl>
</li>
</ul>
<a name="getRecentMessages--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecentMessages</h4>
<pre>protected&nbsp;me.timothy.jreddit.info.Listing&nbsp;getRecentMessages()</pre>
<div class="block">Gets a list of recent messages, utilizing exponential back-off.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list of recent messages</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../me/timothy/bots/Retryable.html" title="class in me.timothy.bots"><code>Retryable</code></a></dd>
</dl>
</li>
</ul>
<a name="handleFlair-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleFlair</h4>
<pre>protected&nbsp;void&nbsp;handleFlair(java.lang.String&nbsp;linkId,
                           java.lang.String&nbsp;flair)</pre>
<div class="block">Flairs a link</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>linkId</code> - the link to flair</dd>
<dd><code>flair</code> - the css class of the flair</dd>
</dl>
</li>
</ul>
<a name="sleepFor-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sleepFor</h4>
<pre>protected&nbsp;void&nbsp;sleepFor(long&nbsp;ms)</pre>
<div class="block">Sleeps for the specified time in milliseconds, as if by
 <code>Thread.sleep(ms)</code>. Logs the exception and terminates
 the program on error.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ms</code> - the time in milliseconds to sleep</dd>
</dl>
</li>
</ul>
<a name="fail-java.lang.String-java.lang.Throwable...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fail</h4>
<pre>protected&nbsp;void&nbsp;fail(java.lang.String&nbsp;message,
                    java.lang.Throwable...&nbsp;errors)</pre>
<div class="block">Terminates the program after logging <code>message</code> at
 Level.ERROR, as well as logging the list of errors</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>message</code> - the message to put in Level.ERROR</dd>
<dd><code>errors</code> - a list of applicable errors to output</dd>
</dl>
</li>
</ul>
<a name="sendMessage-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendMessage</h4>
<pre>protected&nbsp;void&nbsp;sendMessage(java.lang.String&nbsp;to,
                           java.lang.String&nbsp;title,
                           java.lang.String&nbsp;message)</pre>
<div class="block">Sends a message to the specified user with the specified
 title & message, using exponential back-off.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>user</code> - the user to send the message to</dd>
<dd><code>title</code> - the title of the message</dd>
<dd><code>message</code> - the text of the message</dd>
</dl>
</li>
</ul>
<a name="handlePMResponses-me.timothy.bots.summon.SummonResponse-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>handlePMResponses</h4>
<pre>protected&nbsp;void&nbsp;handlePMResponses(<a href="../../../me/timothy/bots/summon/SummonResponse.html" title="class in me.timothy.bots.summon">SummonResponse</a>&nbsp;response)</pre>
<div class="block">Handles the PMResponses that are contained in the summon response, if any,
 by sending pms to the specified users with the specified title and content.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>response</code> - the response which might have pmresponses.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BotDriver.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../me/timothy/bots/Bot.html" title="class in me.timothy.bots"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../me/timothy/bots/BotUtils.html" title="class in me.timothy.bots"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?me/timothy/bots/BotDriver.html" target="_top">Frames</a></li>
<li><a href="BotDriver.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
